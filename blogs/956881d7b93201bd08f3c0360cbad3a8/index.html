<!doctype html><html lang="ja"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta name="author" content="yamadashy"><meta name="robots" content="index, follow"><meta property="og:url" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta property="og:title" content="ククログのフィード｜企業テックブログRSS"><meta property="og:image" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><meta property="og:description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta property="og:type" content="website"><meta property="og:site_name" content="企業テックブログRSS"><meta property="og:locale" content="ja_JP"><meta name="twitter:card" content="summary"><meta property="twitter:domain" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta 
property="twitter:url" content="https://yamadashy.github.io/tech-blog-rss-feed/"><meta name="twitter:title" content="ククログのフィード｜企業テックブログRSS"><meta name="twitter:description" content="企業のテックブログの更新をまとめたRSSフィードを配信しています。記事を読んでその企業の技術・カルチャーを知れることや、質の高い技術情報を得られることを目的としています。"><meta name="twitter:image" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><meta name="thumbnail" content="https://yamadashy.github.io/tech-blog-rss-feed/images/og-image.png"><link rel="preload" href="../../styles/bundle.css" as="style"><meta name="google-site-verification" content="GPLvXv8kYtLMW912ZS54DKFEZL6ruOrjOFLdHVTo37o"><link rel="shortcut icon" href="../../images/favicon.ico"><link rel="apple-touch-icon" href="../../images/apple-icon.png"><link rel="alternate" type="application/atom+xml" title="Atom Feed" href="../../feeds/atom.xml"><link rel="alternate" type="application/rss+xml" title="RSS2.0" href="../../feeds/rss.xml"><link rel="alternate" type="application/json" 
href="../../feeds/feed.json"><link rel="stylesheet" type="text/css" href="../../styles/bundle.css"><script async src="https://www.googletagmanager.com/gtag/js?id=G-CNNNTL0NB3"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CNNNTL0NB3")</script><title>ククログのフィード｜企業テックブログRSS</title></head><body><header role="banner" class="ui-section-header"><div class="ui-layout-container"><div class="ui-section-header__layout ui-layout-flex"><a href="https://yamadashy.github.io/tech-blog-rss-feed/" role="link" aria-label="#"><img src="../../images/icon.png" alt="サイトロゴ" loading="eager" width="96" height="96"> <span class="ui-section-header__title">企業テックブログRSS</span></a><div class="ui-section-header__links"><a href="https://github.com/yamadashy/tech-blog-rss-feed/" role="link" aria-label="#" target="_blank"><img src="../../images/icon-github.png" alt="GitHubロゴ" loading="eager" width="96" height="96"> </a><a 
href="https://x.com/yamadashy" role="link" aria-label="#" target="_blank"><img src="../../images/icon-x.png" alt="Xロゴ" loading="eager" width="96" height="96"></a></div></div></div></header><main role="main"><nav class="ui-nav"><div class="ui-layout-container"><div class="ui-section-nav__layout ui-layout-flex"><a class="ui-section-nav__link" href="../../">フィード</a> <a class="ui-section-nav__link" href="../../hot/">人気フィード</a> <a class="ui-section-nav__link" href="../../blogs/">ブログ一覧</a></div></div></nav><section class="ui-section-content ui-section-feed"><div class="ui-layout-container"><h2 class="ui-typography-heading">ククログ</h2><div class="ui-container-blog-summary"><div class="ui-blog-summary"><a class="ui-blog-summary__link" href="https://www.clear-code.com/blog/">https://www.clear-code.com/blog/</a><p class="ui-blog-summary__description">ククログはクリアコードのブログです。開発に関わる技術情報や、会社での出来事を記録しています。</p></div></div><h3 class="ui-typography-heading">フィード</h3><div 
class="ui-section-content--feature ui-layout-grid ui-layout-grid-3 ui-container-feed ui-container-feed--no-image"><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/4/14/thunderbird-136-startup-error.html"><picture><source type="image/avif" srcset="../../images/feed-thumbnails/UJNwLPEZlk-256.avif 256w, ../../images/feed-thumbnails/UJNwLPEZlk-512.avif 512w" sizes="(min-width: 75rem) 16rem, (min-width: 64rem) 19rem, (min-width: 48rem) 19rem, 8rem"><img alt="記事のアイキャッチ画像" loading="lazy" src="../../images/feed-thumbnails/UJNwLPEZlk-256.jpeg" width="512" height="473" srcset="../../images/feed-thumbnails/UJNwLPEZlk-256.jpeg 256w, ../../images/feed-thumbnails/UJNwLPEZlk-512.jpeg 512w" sizes="(min-width: 75rem) 16rem, (min-width: 64rem) 19rem, (min-width: 48rem) 19rem, 8rem"></picture></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/4/14/thunderbird-136-startup-error.html">
Thunderbird 136の起動時に「設定ファイルを正常に読み込めませんでした。システム管理者に問い合わせてください。」と言われる原因と対処の事例</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
FirefoxやThunderbirdには、古い集中管理の仕組みとしてMCD（Mission Control Desktop）という機能があります。元々はシステム管理者が決めた設定値を各端末のソフトウェアに強制適用するための物でしたが、現在その役割はポリシー設定機能が担うようになってきており、この用途においてMCDは、ポリシー設定機能では制御できない部分を補うために使われる程度となっています。このMCDの設定ファイルを使用している環境では、FirefoxやThunderbirdの更新後に、起動時に「設定ファイルを正常に読み込めませんでした。システム管理者に問い合わせてください。」というメッセージが表示されるようになることがあります。最近も、Thunderbrird 136への更新でこの現象が起こるようになったとのご相談をお客様から頂きました。詳しく調査したところ、Thunderbird 136において、確かに同様のトラブルが起こりやすくなるような変更があったことと、多くの場合はモジュールの読み込みを行っている箇所を修正するだけで問題を解消できることが分かりました。本記事では、この問題の背景事情と回避方法をご紹介します。cu.import()があればchromeutils.importesmodule()に書き換えてみる&quot;&gt;結論：Cu.import()があればChromeUtils.importESModule()に書き換えてみる先に結論から述べると、const { ～ } = Components.utils.import(&#39;～.jsm&#39;, {});あるいはconst { ～ } = Cu.import(&#39;～.jsm&#39;, {});このようなモジュール読み込みの指定がMCD用設定ファイルに含まれているのであれば、const { ～ } = ChromeUtils.importESModule(&#39;～.sys.mjs&#39;);と書き換えてみてください。それ以前は動いていたのにThunderbird 136に更新したら動かなくなった、というケースの大半は、この変更で解消されると考えられます。問題が起こる背景1：高度なカスタマイズ先に、MCDはポリシー設定を補完する物と述べましたが、もう一つの使い方として、Firefox 57およびThunderbird 78以降で廃止されたXU
</div><div class="ui-feed-item__date" title="2025-04-13 15:00:00">6日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/4/14/apache-arrow-tokyo-meetup-2025.html"><picture><source type="image/avif" srcset="../../images/feed-thumbnails/UJNwLPEZlk-256.avif 256w, ../../images/feed-thumbnails/UJNwLPEZlk-512.avif 512w" sizes="(min-width: 75rem) 16rem, (min-width: 64rem) 19rem, (min-width: 48rem) 19rem, 8rem"><img alt="記事のアイキャッチ画像" loading="lazy" src="../../images/feed-thumbnails/UJNwLPEZlk-256.jpeg" width="512" height="473" srcset="../../images/feed-thumbnails/UJNwLPEZlk-256.jpeg 256w, ../../images/feed-thumbnails/UJNwLPEZlk-512.jpeg 512w" sizes="(min-width: 75rem) 16rem, (min-width: 64rem) 19rem, (min-width: 48rem) 19rem, 8rem"></picture></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/4/14/apache-arrow-tokyo-meetup-2025.html">Apache Arrow東京ミートアップ2025を開催したよ！
</a><div class="ui-feed-item__hatena-count" title="はてなブックマーク数"><img src="../../images/hatenabookmark-icon.png" alt="はてなブックマークアイコン" loading="lazy" width="96" height="96"> <span>1</span></div><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Apache Arrowの開発に参加している須藤です。Apache Arrow東京ミートアップを6年ぶりに開催しました！内容今回はApache ArrowのPMCメンバーが3人、コミッターが1人、コントリビューターが2人（3人？）とApache Arrowの開発に深く関わっている人がたくさんいたので、だれかの話を聞いて帰る「勉強会」スタイル（？）じゃなくて、もっと、詳しい人にいろいろ聞ける時間として設計しました。具体的には、前半で参加者が持っている話題を出して、後半は話題をもとにフリースタイルで詳しい人に詳しく話を聞く、という構成にしました。15人くらいのこじんまりとしたオフラインイベントだったこともあって、おおむね狙い通りの時間にできたのではないかと思います。いくつか感想をもらったので記録しておきます。参加してました。人数が少ない分色々と込み入った話ができて最高のミートアップでした。 https://t.co/0UIGFbkrkW— Akihiro Okuno (@choplin) April 11, 2025 参加してました、ありがとうございました🙇‍♂️Arrowはまだまだ初心者ですがRokさんなど色々な方と直接お話しできてよかったです。— yyossy (@nphenite) April 11, 2025 （@npheniteさんはその後Apache Arrowへのコントリビュートを再開し始めていました！）開催ありがとうございました。やりたいと思っていることを、次にどう進めればいいかが相談できて、理解が深まりました！ https://t.co/cCY6rrmq5w— K. Ishizaki (@kiszk) April 12, 2025 当日発表に使われた資料はイベントページにもありますが、ここにもリンクを残しておきます。Rokさん：Apache Arrow Tensor Arrays@lidavidmさん：Taking Arrow Flight Supersonic@kkaigaiさん：Apache Arrow in PostgreSQL with GPU acceleration@abetomoさん：Groonga and Apache Arrow感謝こじんまりとしたイベントでも開催するのって大変なんですよね。。。今回もいろんな人に助けてもらいました。...
</div><div class="ui-feed-item__date" title="2025-04-13 15:00:00">6日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/4/8/nginx-allow-list.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/4/8/nginx-allow-list.html">nginxでフォワード先を制限する際に気をつけるべきこと</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
こんにちは。データ収集ツールFluentdやWebサーバーnginxなどのサポートサービスを担当している福田です。この記事では、nginxでフォワード先を制限する際の注意点を紹介します。nginxをフォワードプロキシとして使うケースを考えます。その際、セキュリティー等の目的でフォワードする宛先を制限したい、ということがあります。これは一見簡単な設定で実現できそうかもしれませんが、実は注意するべき点が多くあります。例えば、Hostヘッダー偽装（Hostヘッダーフォージェリ）に対処するため、$http_hostではなく$hostを使う、という話は有名かもしれません。しかし、$hostはポート番号を含まないため、ポート番号も含めてフォワードするには工夫が必要です。このように宛先制限には注意点があります。本記事ではそれらを解説します。はじめにフォワードプロキシとしてのnginxでフォワード先を制限する際は、次の点に注意が必要です。default_serverを正しく設定するHostヘッダー偽装の対策をする（Hostヘッダー偽装の対策として）$http_hostではなく$hostを使うと、ポート番号をフォワードできなくなる以下では、シンプルな設定例から順番に注意点を確認していきます。シンプルな設定例（Hostヘッダー偽装の影響あり）まずはシンプルな設定例として、次のような仮想サーバー設定を考えてみます。# 拒否用仮想サーバーserver { listen 8080 default_server; server_name _; deny all;}# 許可用仮想サーバーserver { server_name foo; server_name bar; server_name baz; listen 8080; allow all; location / { proxy_pass $scheme://$http_host$request_uri; }}この設定では、許可用と拒否用の2つの仮想サーバーを設定しています。フォワード先のホスト名がfoo, bar, bazのいずれかであれば、許可用の仮想サーバーにルーティングされてフォワードされます。そうでなければ、拒否用の仮想サーバーにルーティングされて拒否されます。拒否用仮想サーバー設定にポイントが2つあります。server_na
</div><div class="ui-feed-item__date" title="2025-04-07 15:00:00">12日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/4/3/groonga-normalizer-mysql-unicode.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/4/3/groonga-normalizer-mysql-unicode.html">Groonga用のMariaDBのutf8mb4_uca1400照合順序互換ノーマライザー</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Mroongaの開発をしている須藤です。MroongaはMySQL/MariaDB/Percona Serverからいい感じにGroongaを使えるようにするストレージエンジンです。Groongaは全文検索エンジンなので、MySQL/MariaDB/Percona Serverだけで（ゼロETLで！っていうとナウいんでしょ！？）Elasticsearchとかなしにいい感じに高速高機能全文検索機能を実現できます。そんなMroongaは10年くらい前からMariaDBにバンドルされています。MySQL・MariaDB作者のMontyさんがなんかの日本のイベントに来ていたときになんか話して「バンドルするか！」みたいな流れになったような気もするし、それとは別のところでなんやかんやしたような気もして、よく覚えていないのですが、バンドルされています。なんだろう、思い出せないーと思ってインターネットを漁ってみたら、2014年のMyNA会で使った「MariaDBにバンドルされていないMroonga」になんか関連情報がありますね。歴史に興味がある人は眺めてみてね。まぁ、そんなMroongaですが、MariaDBにバンドルされているMroongaの更新が大変で全然更新できていません。でも、それはまずいよねぇということでまた数年ぶりにチャレンジしています。で、今回はMroongaのコピーをMariaDBに入れるんじゃなくて、git submoduleでMroongaを入れようとしています。コピーだと、MariaDBが持っているMroongaの方にだけ最新MariaDBの対応が入って、本家のMroongaでは気づかずに「あれー新しいMariaDBでビルドできなくなってるー」みたいなことになるからです。だいぶ前置きが長くなりましたが、MariaDBにバンドルするMroongaを更新するために、最新のMariaDBでも動くようにする作業をしています。2025年4月のリリース自慢会の後半でもこのあたりのことを説明しているので、テキストだけだとピンとこない方は動画もどうぞ。 最新のMariaDB最新のMariaDBというのはPreviewとかRCとかでリリースされているMariaDBではなくて、MariaDBのリポジトリーのmainブランチのMariaDBのことです。LTS以降に入った変更もありま
</div><div class="ui-feed-item__date" title="2025-04-02 15:00:00">17日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/4/2/how-to-add-termux-package.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/4/2/how-to-add-termux-package.html">Termuxに新たにパッケージを追加する方法</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
本記事を書いている2025年3月、Google PixelでLinuxターミナルが動作するようになり、話題となりました。今回は、従来からあるAndroid向けターミナルエミュレーターアプリであるTermuxに、それまで利用できなかったパッケージを新規で追加する方法について紹介します。LinuxターミナルとTermuxの違いそもそも、Google Pixelで利用できるようになったLinuxターミナルと、Termuxはどのように違うのでしょうか。まだ提供されてから間もないことから、Google Pixel以外での動向については未知数ですが、次のような違いがあります。Google Pixelで利用できるようになったLinuxターミナルはAndroid Virtualization Frameworkを利用した仮想環境で動作するAVFに依存しているため、ハードウェア的にAVFをサポートしていても、Android端末のベンダーによっては無効化されて必ずしも使えない可能性があるTermuxは、Termux向けに移植（クロスコンパイル）されたパッケージを利用できるネイティブなバイナリなので、Androidとの親和性が高い移植されていない機能やパッケージの制約を受ける特性が違うので、Linuxターミナルが提供されることになったからといって、即座にTermuxはもういらないというわけでは現時点ではありません。今後はある程度住み分けしていくことになるのではないでしょうか。Termuxのパッケージを新規に追加する話題となったLinuxターミナルとTermuxの違いをおさえたところで、それでもTermuxにまだないパッケージを移植したい人のために、追加する手順を紹介します。Ubuntu 24.04の環境でdockerを利用できるようにするtermux-packages リポジトリをcloneするTermuxパッケージのレシピを作成するコンテナを利用してパッケージをビルドするビルドしたパッケージをAndroid端末に導入するなお、本記事では、Build Environmentで推奨されているDocker Containerを利用したパッケージのビルド方法に基づいて紹介します。Ubuntu 24.04の環境でdockerを利用できるようにする$ sudo apt install -y doc
</div><div class="ui-feed-item__date" title="2025-04-01 15:00:00">18日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/4/2/apache-arrow-format-in-groonga.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/4/2/apache-arrow-format-in-groonga.html">GroongaでApache Arrowフォーマットを使ってみるよ！</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Apache Arrow東京ミートアップ2025に参加予定の阿部です。GroongaはApache Arrowフォーマットでのデータロードと検索結果の取得に対応しています。今回は実際にそれを使ってみる企画です。Apache Arrowフォーマットのデータを作るところからやってみます。次の流れで進めていきます。Apache Arrowフォーマットのデータを作るGroongaにApache ArrowフォーマットでデータをロードするGroongaで検索してApache Arrowフォーマットでデータを得るはじめにGroongaでApache Arrowフォーマットを使うには、HTTPインターフェイスを使わないといけない です。なので、本記事ではGroongaに対する操作はHTTPでリクエストする方法を使っています。参考:Apache Arrowフォーマットでデータロードするときの注意などHTTPでリクエストする方法また、もろもろの処理をJavaScriptで実装しました。JavaScriptが好き、以外に選択した理由はないので、他の言語の実装例も見たい方はお問い合わせよりご連絡ください。とりあえず使ってみることが目的の企画なので、各関数で何をやっているかなどの詳細は割愛しています。要所要所に関連する公式ドキュメントへのリンクを記載しましたので、詳細はそちらでご確認ください。1. Apache Arrowフォーマットのデータを作る公式ドキュメント: Apache Arrow in JS にある例を使わせてもらいます。Groonga用にちょっと変えてます。const LENGTH = 2000;// Apache Arrowは列指向なので列ごとにデータを作ります。// （コードからはどのようなデータなのかわかりにくいので、// 後述の&quot;実行結果例&quot;もご確認ください。）const keys = Array.from( { length: LENGTH }, (_, i) =&gt; i);const rainAmounts = Float32Array.from( { length: LENGTH }, () =&gt; Number((Math.random() * 20).toFixed(1)));const rainDates = Array.from( { length: LEN
</div><div class="ui-feed-item__date" title="2025-04-01 15:00:00">18日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/3/31/apache-arrow-apt-yum-repository-change.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/3/31/apache-arrow-apt-yum-repository-change.html">Apache Arrow 20.0.0からAPT/Yumリポジトリーが変わるよ！</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Apache Arrowの開発に参加している須藤です。そろそろApache Arrow 20.0.0がフィーチャーフリーズされて、4月の中旬から下旬くらいには20.0.0がリリースされます。そんな20.0.0で予定されている変更の1つであるAPT/Yumリポジトリーに関する変更を紹介します。互換性があるように変更するのでいきなり動かなくなることはないはずですが、長い目で見ると変更に追従しておいて欲しい、といった変更になります。Apache ArrowのAPT/YumリポジトリーApache Arrowが提供しているライブラリーの中にはC++で実装されているライブラリーがあります。C++実装のライブラリーのパッケージは、LinuxではdebやRPMで提供されていることが多いです。aptやdnfで簡単にインストールできるからです。aptやdnfでインストールできると依存関係も含めてインストールしたり、sudo apt upgrade/sudo dnf upgradeでまとめて最新バージョンにしたりできます。Apache Arrowはインメモリーデータ分析ソフトウェアの基盤コンポーネントとして広く使って欲しいので、様々な方法で簡単にインストールできるようにしてあります。今回説明するようにaptやdnfでインストールできるようにしたり、vcpkgやConanのようなC++用のパッケージマネージャーでインストールできるようにしたりといった具合です。どのパッケージマネージャーもだいたい「リポジトリー」のようなパッケージの集合を指す概念があります。基本的に、デフォルトのリポジトリーに登録してある状態にするのが一番簡単にインストールできます。サードパーティーのリポジトリーを登録する必要がないからです。vcpkgやConanではパッケージマネージャーの開発者と協力してデフォルトのリポジトリーを更新しています。しかし、APT/Yumリポジトリーは各ディストリビューションのデフォルトのAPT/Yumリポジトリーでパッケージを更新するのではなく、サードパーティーのAPT/Yumリポジトリーを提供しています。どうしてかというと。。。大変だからです。あとは、リリースタイミングが合わないという理由があります。たとえば、Debianのデフォルトのリポジトリーに入れるにはDebian開発者やDebi
</div><div class="ui-feed-item__date" title="2025-03-30 15:00:00">20日前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/3/21/apache-arrow-tokyo-meetup-2025-announce.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/3/21/apache-arrow-tokyo-meetup-2025-announce.html">Apache Arrow東京ミートアップ2025を開催するよ！</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Apache Arrowの開発に参加している須藤です。Apache Arrow東京ミートアップを6年ぶりに開催します！概要Apache Arrow東京ミートアップは7年前と6年前にSpeeeさんに協力してもらって開催していました。Apache Arrow東京ミートアップ2019Apache Arrow東京ミートアップ2018今回、6年ぶりにApache Arrow東京ミートアップ2025を開催します！会場はReazonSpeechやOpenArmなどに取り組んでいるレアゾンHI研究所さんに提供してもらいます。後述の通り、日英が混在するミートアップになる予定なのでReazonSpeechベースの同時通訳システムも提供してもらいます。助かる！そんなに参加者を募れないので、今回はすでにApache Arrowを使っている人限定（Apache Arrowに興味があって使ってみたいんだよねーな人は対象外）で、少し突っ込んだ話をできる機会にできるといいなぁと思っています。こんな感じで使っているんだけど、もっといい使い方ある？とか、こういう機能があると良さそうだから提案したいんだけど、どう思う？とか。今回のミートアップにはApache Arrowの開発者が何人か参加する予定です。最近PMCメンバーになったRokさん、ADBCとかFlight SQLとかを開発しているDavidさん、ビッグエンディアンまわりとかをやっていた石崎さん、なんかいろいろやっている私が参加します。開発者と話をしたいことがある人はぜひ来てね。他にもApache Arrowの利用事例をいくつか紹介します。今のところ、海外さんがPG-Stromでの利用事例を紹介してくれて、あべくんがGroongaでの利用事例を紹介してくれる予定です。他にも利用事例を待っているので、紹介できる人はぜひ。なお、私は英語を聞いたり話したりできません。また、Rokさんは日本語を聞いたり話したりできません。そのため、ReazonSpeechベースの同時通訳システムが活躍するはずです！開催理由実は急遽開催することになったんですが、理由はいくつかあります。最近、Apache Arrowのメーリングリストでヨーロッパでミートアップ開催しちゃう？という話があって、私は「いいなぁ」と思って眺めていました。それとはまったく関係なく、Rokさんから観光
</div><div class="ui-feed-item__date" title="2025-03-20 15:00:00">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/3/14/rubykaigi-2025-code-party-announce.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/3/14/rubykaigi-2025-code-party-announce.html">RubyKaigi 2025 3日目にアンドパッドさんとコード懇親会を開催するよ！ #rubykaigi #codeparty</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
RubyKaigi 2025の3日目の夜にアンドパッドさんが開催するコード懇親会のお手伝いをする須藤です。2025年3月19日の10:00から参加登録できるので、「コードで懇親？楽しそう！」と思うRubyKaigi 2025参加者は登録してね。コード懇親会とはコード懇親会は7年前に私が思いついた懇親会のスタイルです。普通の懇親会とはちょっと違うコンセプトの懇親会です。普通の懇親会は飲食物が用意された状態で各参加者がそれぞれ違う参加者と話をして懇親します。ちょっとしたトークや催し物が用意されることもあります。コード懇親会はその名の通りコードを軸に懇親します。一緒にコードを書いたり、一緒にコードを読んだり、どうしてこんなコードになっているのかみんなで考えたり作者に聞いたり。そんな感じで懇親します。そんなことをして楽しい時間になるの？って思いますよね。楽しい時間になるはず！特にRubyistなら！Rubyは楽しくプログラミングできるように設計されたプログラミング言語です。だったら一緒にRubyでコードを読み書きする時間も楽しい時間になるはずだよね。そういうコンセプトです。とは言っても、やっぱり人によると思います。「一緒にコードを読み書きする」と聞いて「楽しそう！」と感じる人はコード懇親会を楽しめるでしょう。一方、「？」と思う人はそうでもない可能性が高そうです。そんな人は、自分が楽しめそうな他のイベントを選んで参加してください。おそらく https://rubykaigi.org/2025/events/ にイベントリストが公開されるはずなので、そこで自分が楽しめそうなイベントがきっと見つかるはずです。（でも、言葉では理解できなかったけど体験したら理解できた！となる人もいる気はするので体験して自分は楽しめるかどうか確認して欲しいとは思っています。）なお、他のドリンクアップ系イベントと違ってお酒はない予定です。RubyKaigi 2025では毎晩お酒を飲みたい！という人は別のイベントの方が向いています。あるいは、コード懇親会が終わった後に一杯やりに行ってください。21:30に終了予定です。過去のコード懇親会情報言葉での説明だけではイメージがつかない人向けに過去のコード懇親会の様子がわかる情報をおいておきます。参考にしてください。コード懇親会は過去にRubyKaigi 2018
</div><div class="ui-feed-item__date" title="2025-03-13 15:00:00">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/3/14/office-string-replacer-specification.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/3/14/office-string-replacer-specification.html">Microsoft Office製品のファイル内の文字列を検索、置換する</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
OfficeStringReplacerというMicrosoft Office 製品1のファイル内の文字列を検索・置換するツールを開発した橋田です。Office文書に含まれる文字列の検索、置換処理を素直に実装するとものすごく時間がかかりますが、OfficeStringReplacerでは現実的な時間に収まるように工夫をしています。この記事ではその工夫の詳細について解説します。検索、置換での工夫OfficeStringReplacerでは以下のファイル形式をサポートしています。.xlsx、.docx、.pptx： Office 2007以降の標準のExcel、Word、PowerPointのファイル形式.xlsm、.docm、.pptm： Office 2007以降マクロ機能付きのExcel、Word、PowerPointのファイル形式.xls、.doc、.ppt： Office 2007より前の、旧形式のExcel、Word、PowerPointのファイル形式.accdb、.mdb: Microsoft Accessのファイル形式OfficeStringReplacerはC#で実装しています。Office文書の内容をC#で読み書きする正規の方法としては、Microsoft.Office.Interop.Excel.ApplicationなどのOffice 相互運用オブジェクトにアクセスするC#ライブラリ（以下、Office相互運用ライブラリ）を使う方法があります。ですが、Office相互運用ライブラリでの操作は処理が遅く、ファイル内すべてを検索、置換するような処理では、現実的な時間では実行が完了しません。そのため、現実的な時間で実行を完了させるためには、何らかの工夫をする必要があります。それぞれのファイル形式について、どのような工夫を行ったのか解説します。.xlsx、.docx、.pptx&quot;&gt;.xlsx、.docx、.pptxこれらのファイルは、実体としてはOffice Open XML形式のXMLファイルをまとめたZIPファイルです。そのため、ZIPファイルとして展開・圧縮することができます。例えば、エクセルファイルのシートやセルの情報なども、すべて展開後のXMLファイルの中に含まれています。OfficeStringReplacerでは、これらファイルをZIPファ
</div><div class="ui-feed-item__date" title="2025-03-13 15:00:00">1ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/3/5/roaring-bitmap-value.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/3/5/roaring-bitmap-value.html">Roaring bitmapsでビットより大きい情報を表現する方法</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Groongaの結果セットにRoaring bitmapsを使えないか検討している須藤です。以前、ClickHouseみたいにポスティングリストにRoaring bitmapsを使えないか検証しましたが、既存のPForDeltaの方がよかったのでやめました。しかし、結果セットには使えるかも？とは思っていました。ただ、Groongaの結果セットは「ヒットしたレコードはどれか」というビットで表現できる情報だけではなく、「ヒットしてレコードはどれで、それらのスコアはそれぞれいくつか」という「ヒットしたか」（ビットで表現できる）+「スコア」（64bit浮動小数点数で、ビットでは表現できない）というビットでは表現できない情報が必要です。そのため、使えるかも？とは思いつつ、じゃあどうやって？がわからずにそのままになっていました。この間、なんとなくまたどうにかできないか調べてみたら、Roaring bitmapsのGo実装にはそれを実現する方法が含まれていることを見つけたので紹介します。まだGroongaでは検証していないので、Groongaで使いものになるかどうかはわかりません。Roaring bitmapsRoaring bitmapsは効率よくかつ高速にビットマップを表現する方法です。立っているビットの数に合わせて内部表現を変えることでそれを実現しています。たとえば、2 ** 15番目のビットだけが立っている場合、2 ** 15ビットのビットマップを用意して2 ** 15番目のビットを立てると2 ** 15 / 8バイト（4KiB）必要になりますが、2 ** 15番目という情報だけ持って表現すると2バイトで表現できます。こういう感じのことをいい感じにがんばって効率よくかつ高速にビットマップを表現しています。それでは、ビットしか表現できないRoaring bitmaps（ビットマップなんだから当然）でどうやってビットより大きい情報を表現するとよいのでしょうか。Bit Slice Indexing (BSI)1つのビットマップでは表現できないなら複数のビットマップを組み合わせて表現すればよいのです。その実装がBit Slice Indexingという名前でGo実装に入っています。たとえば、「ヒットしたか」と「64bit浮動小数点数のスコア」を表現するときは、「ヒットしたか」のた
</div><div class="ui-feed-item__date" title="2025-03-04 15:00:00">2ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/2/28/gandiva-llvm-orcv2-missing-symbols.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/2/28/gandiva-llvm-orcv2-missing-symbols.html">Gandivaが使っているLLVMのJIT機能をMCJITからORCv2にしたらシンボルが見つからないエラーになっていたけどLLVM 18.1で直った</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Apache Arrowの開発に参加している須藤です。LLVMは詳しくないし、LLVMのどのコミットで直ったとかも調べていないし、私はレビューとか調査をしていただけで実装していないとかなんですが、最近、数年越しのGandivaの問題が直ったので雰囲気で紹介します。GandivaGandivaはAapche Arrow C++に含まれている実行時式コンパイラーです。ようは実行時に与えられた式（1 + 1とか）をJITコンパイルして、さもビルド時にコンパイルしたような速度で実行できるようにするやつです。もともと、Dremioで使いたくて作ったものをApache Arrowに寄贈したものです。DremioはJavaで実装されているので、Apache Arrow Javaからも使えるようになっています。GandivaとLLVMGandivaはLLVMを使って式をJITコンパイルしています。LLVMには複数のJIT機能があるらしく、当初はMCJITというJITエンジンを使っていました。その後、ORCv2というJIT APIがMCJITを非推奨にしたということで、ORCv2に移行しました。ところで、ORCがなんの略かわかっていません。何度かざっと調べたのですが見つけられませんでした。あと、JITエンジンとJIT APIをどう使い分けているのかもわかっていません。MCJITのドキュメントではJITエンジンで、ORCv2のドキュメントではJIT APIなんです。（「ORC JIT」とかで検索するとORCは「On-Request-Compilation」の略だとわかると@hsbtに教えてもらいました！たしかにLLVMのチュートリアルにそう書いてありました！）ORCv2とLLVM 17しばらくはORCv2で元気に動いていましたが、LLVM 17から特定のケースで動かなくなりました。どういうケースかというと、メインのプロセスがLLVMとリンクしていないケースです。たとえば、JavaからGandivaを使う場合はGandivaを外部ライブラリーとして用意しておいて、実行時に組み込みます。つまり、Java本体（メインのプロセス）はLLVMとはリンクされていなくて、GandivaだけがLLVMとリンクされています。この状態でORCv2を使うとllvm_orc_registerEHFrameSe
</div><div class="ui-feed-item__date" title="2025-02-27 15:00:00">2ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/2/20/how-arrow-format-accelerate-query-result-transfer.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/2/20/how-arrow-format-accelerate-query-result-transfer.html">Apache Arrowフォーマットはどのようにクエリー結果の転送を高速にしているのか</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
Apache Arrowの開発に参加している須藤です。先月、Apache Arrowの公式ブログにHow the Apache Arrow Format Accelerates Query Result TransferというApache Arrowフォーマットを使うとなぜクエリー結果の転送が高速になるのかを説明した記事が投稿されました。すごくよくまとまっている内容で、今後、何度も参照したくなりそうでした。ということで、Apache Arrowの公式ブログに翻訳記事を追加しておきました。昨今の機械翻訳は精度がかなり上がっているので人手の翻訳がなくても読みたい人は読む気はしますが、検索したときに見つかりやすくなるかもなぁと思ってやっておきました。詳細はこの翻訳記事を読んでもらうとして、ここでは簡単に概要を紹介しておきます。概要OLTP（OnLine Transaction Processing）では少数のレコードを変更するだけなのでクエリー結果が大きくなることはほぼありませんが、OLAP（OnLine Analytical Processing）では大量のレコードを扱うのでクエリー結果が大きくなることがよくあります。ここではこのような大きなクエリー結果を扱うことを前提にします。Apache Arrowフォーマットが大きなクエリー結果の転送を高速にするのは次の5つの特徴が関係しています。列指向自己記述的で型安全ゼロコピー可能ストリーム可能汎用的列指向Apache Arrowフォーマットは列指向（カラムナー）です。OLAPはデータ分析処理ですが、データ分析処理用のツールはだいたい列指向でデータを持っています。その方がデータ分析処理が速いからです。転送用のフォーマットが列指向だと、転送用に行と列を転置する必要がなくなります。行と列を転置するのは重い処理なので、これをやらなくて済むと高速になります。（列指向とかは元の記事に図入りで説明があります。）自己記述的で型安全Apache Arrowフォーマットは自己記述的で型安全です。自己記述的というのはデータ内にスキーマなどのメタデータも含まれているということです。メタデータが含まれていない場合は、データからスキーマを推測するか正しく処理するために別途メタデータを取得しなければいけません。そのような処理（特に推測する処理）が必要にな
</div><div class="ui-feed-item__date" title="2025-02-19 15:00:00">2ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/2/19/set-maximum-concurrency-into-pgroonga.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/2/19/set-maximum-concurrency-into-pgroonga.html">PGroongaの並列インデックス構築の並列度を最大にする方法</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
PGroongaのメンテナンスもしている堀本です。PGroongaは4.0.0からPostgreSQL 17以降を使っている場合に限り、複数のCPUコアを活用してインデックスの構築を並列で実行できます。（PostgreSQL 17より前のバージョンでは動作しないので注意してください。）並列に実行するため、インデックス構築速度の高速化が期待できますが、場合によっては思ったほど高速にならない可能性もあります。今回は、PGroonga 4.0.0を使ってもあまりインデックス構築が高速にならない人向けの記事です。はじめに前述の通り、PGroonga 4.0.0以降ではインデックスの構築を複数のCPUコアを利用して並列に実行できます。どのくらい並列で実行するかは、PostgreSQLがおすすめする並列度を使っていますが、PostgreSQLがおすすめする並列度は控えめなので、あまり高速にならない可能性があります。しかし、PGroongaはPostgreSQLがおすすめしてくる並列度ではなく、全力で並列に実行するように設定を変更できます。PGroonga 4.0.0を使ってもあまりインデックス構築が高速にならない人は、これから紹介する方法を使って高速になるか試してみてください。具体的には、PostgreSQL 17の環境変数にGRN_N_WORKERS_DEFAULTを設定する必要があるので、以降では、この環境変数を設定する方法を紹介します。PostgreSQLに環境変数を設定するということで、PostgerSQL 17に環境変数GRN_N_WORKERS_DEFAULTを設定しましょう。ここで、「え、どうやって？」と思った人はこの先に進んでください。そう思わなかった人は、この先の情報は不要ですので、GRN_N_WORKERS_DEFAULTに-1を設定して高速になるか試してみてください。それでは、UbuntuにインストールされたPGroongaを例に環境変数を設定していきましょう。環境変数は以下のように設定します。/etc/postgresql/17/main/environmentにGRN_N_WORKERS_DEFAULT = -1を追記します。（systemd editを使って環境変数を設定するのではなく、/etc/postgresql/17/main/environm
</div><div class="ui-feed-item__date" title="2025-02-18 15:00:00">2ヶ月前</div></div></div><div class="ui-feed-item"><a class="ui-feed-item__og-image" href="https://www.clear-code.com/blog/2025/2/19/introduction-to-regular-release-of-ChronosSystemGuard.html"><img src="../../images/alternate-feed-image.png" alt="記事のアイキャッチ画像" loading="lazy" width="256" height="256"></a><div class="ui-feed-item__content"><a class="ui-feed-item__title" href="https://www.clear-code.com/blog/2025/2/19/introduction-to-regular-release-of-ChronosSystemGuard.html">セキュアブラウザ「Chronos SystemGuard」と最新版定期リリースのご紹介</a><div class="ui-feed-item__blog-title">ククログ</div><div class="ui-feed-item__summary">
屋代です。2023年よりセキュアブラウザ製品「Chronos SystemGuard」を担当しています。2025年2月14日に、Chronos SystemGuardの最新版となるv15.0.131.0をリリースしました！ そこでこの機会に、次の2点について簡単にご紹介します。Chronos SystemGuardについてChronos SystemGuardのリリースについてChronos SystemGuardについてChronos SystemGuardとは、先述のとおり、セキュアブラウザ製品です。Windows用アプリケーションとして、現在、Windows 11とWindows 10をサポートしています。Chronos SystemGuardには次の特長があります。ThinAppを使って仮想化することにより、使用時のセキュリティを高めています。仮想化された環境でブラウザを使用することで、万が一悪意あるWebサイトへのアクセスやマルウェア感染などの問題が発生しても、ホストに影響を与えずに済みます。実環境を保護するため、アップロードするファイルやダウンロードしたファイルは専用のファイルマネージャを介して扱います。さらに、サイトの閲覧履歴やファイルのアップロード／ダウンロード操作を、監査ログとして出力する機能も備えています。仮想化前のChronosは、MITライセンスのOSSですが、ThinAppを使って仮想化するためのモジュールはプロプライエタリソフトウェアとなっています。以下当記事ではChronos SystemGuardを「Chronos-SG」と表記します。Chronos-SGはChromiumベースのオープンソースのフレームワーク「CEF（Chromium Embedded Framework）1」を採用しています。Chronos-SGの最新版v15.0.131.0では、CEF131.4.1を使用しています。Chronos-SGのバージョン番号の3桁目を、このCEFのメジャーバージョン番号と揃えています。Chronos-SGの特長についてはChronos SystemGuard製品紹介にも記載があります。あわせてご覧ください。Chronos SystemGuardのリリースについてクリアコードでは、定期的にChronos-SGのリリースを行っています。リ
</div><div class="ui-feed-item__date" title="2025-02-18 15:00:00">2ヶ月前</div></div></div></div></div></section></main><footer role="contentinfo" class="ui-section-footer"><div class="ui-layout-container"><div class="ui-layout-column-6 ui-layout-column-center"><div class="ui-component-cta ui-layout-flex ui-section-footer__site-info"><p class="ui-text-note">このサイトは<br>記事を読んでその企業の技術・カルチャーを知れることや<br>質の高い技術情報を得られることを目的としています。</p><p class="ui-text-note">追加したいブログがある場合は<br><a href="https://github.com/yamadashy/tech-blog-rss-feed#%E3%82%B5%E3%82%A4%E3%83%88%E3%81%AE%E8%BF%BD%E5%8A%A0%E6%96%B9%E6%B3%95" target="_blank">サイトの追加方法</a> をご参照ください。</p></div></div></div><div class="ui-layout-container"><div class="ui-section-footer__layout ui-layout-flex"><p class="ui-section-footer--copyright ui-text-note"><a class="ui-text-note" href="https://github.com/yamadashy/" target="_blank"><small>@yamadashy</small></a></p><a href="https://github.com/yamadashy/tech-blog-rss-feed/" role="link" aria-label="#" 
class="ui-text-note" target="_blank"><small>GitHub</small></a></div></div></footer></body></html>